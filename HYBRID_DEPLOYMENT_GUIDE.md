# æ–¹æ¡ˆ Bï¼šæ··åˆæ¶æ„éƒ¨ç½²æŒ‡å—

## ğŸ“Š æ¶æ„è¯´æ˜

```
æ–¹æ¡ˆé€‰æ‹©ï¼šä¿ç•™ Vercel + å›½å†…æœåŠ¡å™¨ï¼ˆå¤‡ç”¨/æµ‹è¯•ï¼‰

ç”¨æˆ·æµè§ˆå™¨
    â†“
https://www.gij666.com (ç»§ç»­æŒ‡å‘ Vercel)
    â†“
Vercel (å…¨çƒ CDN + å‰ç«¯æ‰˜ç®¡)
    â†“
Supabase (æ•°æ®åº“ + API + å­˜å‚¨)

å¤‡ç”¨æœåŠ¡å™¨ï¼š
    â†“
å›½å†…æœåŠ¡å™¨ 123.57.58.46
    â†“
å®å¡”é¢æ¿ + Nginx (ç”¨äºæµ‹è¯•/å¤‡ä»½/é•œåƒ)
```

---

## âœ… å½“å‰çŠ¶æ€

- âœ… Vercel éƒ¨ç½²ï¼šæ­£å¸¸è¿è¡Œ
- âœ… åŸŸå DNSï¼šæŒ‡å‘ Vercel
- âœ… å›½å†…æœåŠ¡å™¨ï¼šå·²å®‰è£…å®å¡”é¢æ¿
- âœ… Nginxï¼šå·²å®‰è£…

---

## ğŸ¯ å®æ–½ç›®æ ‡

ç”±äºæ‚¨é€‰æ‹©äº†æ··åˆæ¶æ„ï¼Œæˆ‘ä»¬çš„ç›®æ ‡æ˜¯ï¼š

### ä¸»è¦ç›®æ ‡
1. **ä¿æŒ Vercel ä½œä¸ºä¸»è¦éƒ¨ç½²å¹³å°**
   - ç»§ç»­ä½¿ç”¨ Vercel çš„å…¨çƒ CDN
   - ä¿æŒç°æœ‰çš„ Supabase æ•°æ®åº“è¿æ¥
   - åŸŸå DNS ä¸å˜

### æ¬¡è¦ç›®æ ‡ï¼ˆå¯é€‰ï¼‰
2. **å›½å†…æœåŠ¡å™¨ä½œä¸ºå¤‡ç”¨/æµ‹è¯•ç¯å¢ƒ**
   - å¯ä»¥ç”¨äºæµ‹è¯•æ–°åŠŸèƒ½
   - ä½œä¸ºå¤‡ä»½éƒ¨ç½²
   - æœªæ¥å¯æ‰©å±•ä¸º API æœåŠ¡å™¨

---

## ğŸ“‹ æ¨èçš„éƒ¨ç½²ç­–ç•¥

### ç­–ç•¥ 1ï¼šä¿æŒç°çŠ¶ï¼ˆæ¨èï¼‰âœ…

**åšæ³•**ï¼š
- ä¿æŒ Vercel éƒ¨ç½²ä¸å˜
- å›½å†…æœåŠ¡å™¨ç”¨äºæµ‹è¯•å’Œå¤‡ä»½
- é€šè¿‡ IP è®¿é—®æµ‹è¯•ç¯å¢ƒï¼š`http://123.57.58.46`

**ä¼˜åŠ¿**ï¼š
- âœ… é£é™©æœ€å°
- âœ… ä¸å½±å“çº¿ä¸ŠæœåŠ¡
- âœ… ä¿æŒ Vercel çš„å…¨çƒ CDN ä¼˜åŠ¿
- âœ… å›½å†…æœåŠ¡å™¨å¯éšæ—¶æµ‹è¯•æ–°åŠŸèƒ½

**åŠ£åŠ¿**ï¼š
- âš ï¸ å›½å†…æœåŠ¡å™¨æš‚æ—¶é—²ç½®

---

### ç­–ç•¥ 2ï¼šä½¿ç”¨é›·æ±  WAF åå‘ä»£ç†åˆ° Vercel

**åšæ³•**ï¼š
1. åœ¨å›½å†…æœåŠ¡å™¨å®‰è£…é›·æ±  WAF
2. é…ç½®åå‘ä»£ç†æŒ‡å‘ Vercel
3. ä¿®æ”¹åŸŸå DNS æŒ‡å‘å›½å†…æœåŠ¡å™¨
4. æµé‡ç»è¿‡ WAF å†è½¬å‘åˆ° Vercel

**æ¶æ„**ï¼š
```
ç”¨æˆ· â†’ å›½å†…æœåŠ¡å™¨(WAF) â†’ Vercel â†’ Supabase
```

**ä¼˜åŠ¿**ï¼š
- âœ… å¢åŠ å®‰å…¨é˜²æŠ¤ï¼ˆWAFï¼‰
- âœ… å¯ä»¥ç›‘æ§å’Œè¿‡æ»¤æµé‡
- âœ… ä¿ç•™ Vercel çš„éƒ¨ç½²ä¼˜åŠ¿

**åŠ£åŠ¿**ï¼š
- âš ï¸ å¢åŠ ä¸€å±‚è·³è½¬ï¼Œå¯èƒ½å½±å“é€Ÿåº¦
- âš ï¸ éœ€è¦åŸŸåå¤‡æ¡ˆï¼ˆå›½å†…æœåŠ¡å™¨ï¼‰
- âš ï¸ æ¶æ„å¤æ‚åº¦å¢åŠ 

---

### ç­–ç•¥ 3ï¼šåˆ†æµæ¶æ„ï¼ˆæœªæ¥æ‰©å±•ï¼‰

**åšæ³•**ï¼š
- ä¸»åŸŸå `www.gij666.com` â†’ Vercelï¼ˆå…¨çƒç”¨æˆ·ï¼‰
- å­åŸŸå `cn.gij666.com` â†’ å›½å†…æœåŠ¡å™¨ï¼ˆå›½å†…ç”¨æˆ·ï¼‰
- æˆ–è€…ä½¿ç”¨æ™ºèƒ½ DNS æ ¹æ®åœ°ç†ä½ç½®åˆ†æµ

**ä¼˜åŠ¿**ï¼š
- âœ… é’ˆå¯¹ä¸åŒåœ°åŒºä¼˜åŒ–
- âœ… çµæ´»æ€§æœ€é«˜

**åŠ£åŠ¿**ï¼š
- âš ï¸ éœ€è¦ç»´æŠ¤ä¸¤å¥—ç¯å¢ƒ
- âš ï¸ æ•°æ®åŒæ­¥å¤æ‚

---

## ğŸš€ æ¨èæ“ä½œï¼šç­–ç•¥ 1ï¼ˆä¿æŒç°çŠ¶ï¼‰

### ç¬¬ 1 æ­¥ï¼šç¡®è®¤ Vercel éƒ¨ç½²æ­£å¸¸

1. **è®¿é—® Vercel é¡¹ç›®**
   - è®¿é—®ï¼šhttps://www.gij666.com
   - ç¡®è®¤ç½‘ç«™æ­£å¸¸è¿è¡Œ

2. **æ£€æŸ¥ DNS è§£æ**
   ```bash
   nslookup www.gij666.com
   ```
   - åº”è¯¥è§£æåˆ° Vercel çš„ IP

---

### ç¬¬ 2 æ­¥ï¼šæ¸…ç†å›½å†…æœåŠ¡å™¨ä¸Šçš„æµ‹è¯•æ–‡ä»¶

åœ¨å®å¡”ç»ˆç«¯ä¸­æ‰§è¡Œï¼š

```bash
# æ¸…ç©ºç½‘ç«™ç›®å½•
rm -rf /www/wwwroot/www.gij666.com/*

# åˆ›å»ºä¸€ä¸ªç®€å•çš„æµ‹è¯•é¡µé¢
cat > /www/wwwroot/www.gij666.com/index.html << 'EOF'
<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å›½ç²¾é›†å›¢ - æµ‹è¯•ç¯å¢ƒ</title>
    <style>
        body {
            font-family: 'Microsoft YaHei', sans-serif;
            display: flex;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
        }
        .container {
            text-align: center;
            padding: 40px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 20px;
            backdrop-filter: blur(10px);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.1);
        }
        h1 { font-size: 3em; margin-bottom: 20px; }
        p { font-size: 1.2em; margin: 10px 0; }
        .status { color: #4ade80; font-weight: bold; }
        .info { background: rgba(255, 255, 255, 0.2); padding: 20px; border-radius: 10px; margin-top: 20px; }
    </style>
</head>
<body>
    <div class="container">
        <h1>ğŸš€ å›½ç²¾é›†å›¢æµ‹è¯•ç¯å¢ƒ</h1>
        <p class="status">âœ… æœåŠ¡å™¨è¿è¡Œæ­£å¸¸</p>
        <div class="info">
            <p><strong>æœåŠ¡å™¨IPï¼š</strong>123.57.58.46</p>
            <p><strong>ç¯å¢ƒï¼š</strong>å®å¡”é¢æ¿ + Nginx</p>
            <p><strong>ç”¨é€”ï¼š</strong>æµ‹è¯•ã€å¤‡ä»½ã€å¼€å‘ç¯å¢ƒ</p>
            <p><strong>ä¸»ç«™ï¼š</strong><a href="https://www.gij666.com" style="color: #fbbf24;">https://www.gij666.com</a></p>
        </div>
        <p style="margin-top: 30px; font-size: 0.9em; opacity: 0.8;">
            æ­¤ç¯å¢ƒç”¨äºæµ‹è¯•æ–°åŠŸèƒ½ï¼Œä¸å¯¹å¤–å¼€æ”¾
        </p>
    </div>
</body>
</html>
EOF

# éªŒè¯æ–‡ä»¶
cat /www/wwwroot/www.gij666.com/index.html
```

---

### ç¬¬ 3 æ­¥ï¼šéªŒè¯æµ‹è¯•ç¯å¢ƒ

è®¿é—®ï¼š`http://123.57.58.46`

åº”è¯¥çœ‹åˆ°ä¸€ä¸ªæ¼‚äº®çš„æµ‹è¯•é¡µé¢ï¼Œè¯´æ˜æœåŠ¡å™¨è¿è¡Œæ­£å¸¸ã€‚

---

## ğŸ”„ æœªæ¥æ‰©å±•é€‰é¡¹

### é€‰é¡¹ Aï¼šæ·»åŠ é›·æ±  WAF ä¿æŠ¤

å¦‚æœæœªæ¥æƒ³å¢åŠ å®‰å…¨é˜²æŠ¤ï¼Œå¯ä»¥ï¼š

1. å®‰è£… Docker
2. å®‰è£…é›·æ±  WAF
3. é…ç½®åå‘ä»£ç†åˆ° Vercel
4. ä¿®æ”¹ DNS æŒ‡å‘å›½å†…æœåŠ¡å™¨

**å‘½ä»¤å‚è€ƒ**ï¼š
```bash
# å®‰è£… Docker
curl -sSL https://get.docker.com/ | sh
systemctl start docker
systemctl enable docker

# å®‰è£…é›·æ±  WAF
docker pull chaitin/safeline:latest
docker run -d \
  --name safeline \
  --restart always \
  -p 9443:9443 \
  -p 80:80 \
  -p 443:443 \
  -v /data/safeline:/data \
  chaitin/safeline:latest

# è®¿é—® WAF ç®¡ç†ç•Œé¢
# https://123.57.58.46:9443
```

---

### é€‰é¡¹ Bï¼šéƒ¨ç½²ä¸ºå¤‡ä»½ç¯å¢ƒ

å¦‚æœæƒ³å°†å›½å†…æœåŠ¡å™¨ä½œä¸ºå®Œæ•´å¤‡ä»½ï¼š

1. é…ç½® Supabase ç¯å¢ƒå˜é‡
2. å®šæœŸä» Vercel åŒæ­¥ä»£ç 
3. ä¿æŒéšæ—¶å¯åˆ‡æ¢

**å‘½ä»¤å‚è€ƒ**ï¼š
```bash
cd /www/wwwroot/www.gij666.com

# æ‹‰å–æœ€æ–°ä»£ç ï¼ˆéœ€è¦å…ˆå®‰è£… Git å’Œ Node.jsï¼‰
git clone https://github.com/qeenydorin-creator/guojing-frontend.git .

# åˆ›å»º .env æ–‡ä»¶
cat > .env << 'EOF'
VITE_SUPABASE_URL=your_supabase_url
VITE_SUPABASE_ANON_KEY=your_supabase_key
EOF

# å®‰è£…ä¾èµ–å¹¶æ„å»º
npm install
npm run build

# éƒ¨ç½²
mv dist/* .
rm -rf dist
```

---

### é€‰é¡¹ Cï¼šAPI æœåŠ¡å™¨

å¦‚æœæœªæ¥éœ€è¦è‡ªå»ºåç«¯ APIï¼š

1. åœ¨å›½å†…æœåŠ¡å™¨éƒ¨ç½² Node.js åç«¯
2. é…ç½®æ•°æ®åº“è¿æ¥
3. Vercel å‰ç«¯è°ƒç”¨å›½å†… API

**æ¶æ„**ï¼š
```
Vercel (å‰ç«¯) â†’ å›½å†…æœåŠ¡å™¨ (API) â†’ æ•°æ®åº“
```

---

## ğŸ“Š æˆæœ¬å¯¹æ¯”

| æ–¹æ¡ˆ | æœˆæˆæœ¬ä¼°ç®— | è¯´æ˜ |
|------|-----------|------|
| **ç­–ç•¥ 1ï¼ˆå½“å‰ï¼‰** | Vercel å…è´¹ + æœåŠ¡å™¨è´¹ç”¨ | æœåŠ¡å™¨é—²ç½®ï¼Œå¯ç”¨äºå…¶ä»–é¡¹ç›® |
| **ç­–ç•¥ 2ï¼ˆWAFï¼‰** | æœåŠ¡å™¨è´¹ç”¨ + æµé‡è´¹ | éœ€è¦åŸŸåå¤‡æ¡ˆ |
| **ç­–ç•¥ 3ï¼ˆåˆ†æµï¼‰** | Vercel å…è´¹ + æœåŠ¡å™¨è´¹ç”¨ | è¿ç»´æˆæœ¬è¾ƒé«˜ |

---

## âœ… å½“å‰å»ºè®®

### ç«‹å³æ‰§è¡Œï¼š

1. **ä¿æŒ Vercel éƒ¨ç½²ä¸å˜**
   - ç½‘ç«™ç»§ç»­æ­£å¸¸è¿è¡Œ
   - æ— éœ€ä¿®æ”¹ DNS

2. **æ¸…ç†å›½å†…æœåŠ¡å™¨**
   - åˆ é™¤æµ‹è¯•æ–‡ä»¶
   - è®¾ç½®ä¸€ä¸ªç®€å•çš„æµ‹è¯•é¡µé¢

3. **å¤‡ç”¨æ–¹æ¡ˆæ–‡æ¡£åŒ–**
   - è®°å½•åˆ‡æ¢æ­¥éª¤
   - å‡†å¤‡ç´§æ€¥å›é€€æ–¹æ¡ˆ

### æœªæ¥è€ƒè™‘ï¼š

- âœ… åŸŸåå®Œæˆå¤‡æ¡ˆåï¼Œå¯ä»¥å¯ç”¨ç­–ç•¥ 2ï¼ˆWAF ä¿æŠ¤ï¼‰
- âœ… æ ¹æ®ä¸šåŠ¡éœ€æ±‚ï¼Œè€ƒè™‘æ˜¯å¦éœ€è¦è‡ªå»º API
- âœ… ç›‘æ§ Vercel æµé‡å’Œæ€§èƒ½

---

## ğŸ“ éœ€è¦å¸®åŠ©ï¼Ÿ

å¦‚æœæ‚¨æƒ³ï¼š
1. åˆ‡æ¢åˆ°ç­–ç•¥ 2ï¼ˆWAF åå‘ä»£ç†ï¼‰
2. éƒ¨ç½²å®Œæ•´å¤‡ä»½ç¯å¢ƒ
3. é…ç½® API æœåŠ¡å™¨

è¯·å‘Šè¯‰æˆ‘ï¼Œæˆ‘ä¼šæä¾›è¯¦ç»†çš„æ“ä½œæ­¥éª¤ã€‚

---

**å½“å‰æ¨èæ“ä½œ**ï¼šæ‰§è¡Œç¬¬ 2 æ­¥ï¼Œæ¸…ç†æœåŠ¡å™¨å¹¶åˆ›å»ºæµ‹è¯•é¡µé¢ã€‚

**ä¸‹ä¸€æ­¥**ï¼šæ ¹æ®ä¸šåŠ¡éœ€æ±‚å’ŒåŸŸåå¤‡æ¡ˆæƒ…å†µï¼Œé€‰æ‹©æœªæ¥æ‰©å±•æ–¹å‘ã€‚
