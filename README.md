# å›½ç²¾é›†å›¢ - ä¸œæ–¹æœ¬è‰ å…»ç”Ÿç‘°å® (å‰ç«¯)

ä¸€ä¸ªåŸºäº React 19 + TypeScript + Vite + Tailwind CSS çš„ç°ä»£åŒ–ç”µå•†å‰ç«¯åº”ç”¨ã€‚

## é¡¹ç›®ç‰¹æ€§

- âš›ï¸ React 19 + TypeScript
- ğŸš€ Vite 7 å¿«é€Ÿæ„å»º
- ğŸ¨ Tailwind CSS å“åº”å¼è®¾è®¡
- ğŸ” Supabase èº«ä»½è®¤è¯
- ğŸ›’ å®Œæ•´çš„è´­ç‰©è½¦å’Œè®¢å•ç®¡ç†
- ğŸ’° ç§¯åˆ†ç³»ç»Ÿ
- â±ï¸ è®¢å•å€’è®¡æ—¶ï¼ˆ30åˆ†é’Ÿæ”¯ä»˜æœŸé™ï¼‰
- ğŸ“± å®Œå…¨å“åº”å¼è®¾è®¡ï¼ˆç§»åŠ¨ç«¯å‹å¥½ï¼‰
- ğŸ¬ æº¯æºå·¥è‰ºè§†é¢‘å±•ç¤º

## å¿«é€Ÿå¼€å§‹

### å‰ç½®è¦æ±‚

- Node.js >= 18
- npm æˆ– yarn

### å®‰è£…ä¾èµ–

```bash
npm install
```

### ç¯å¢ƒé…ç½®

1. å¤åˆ¶ `.env.example` ä¸º `.env.local`
2. å¡«å…¥ä½ çš„ Supabase é…ç½®ï¼š
   ```
   VITE_SUPABASE_URL=https://your-project.supabase.co
   VITE_SUPABASE_ANON_KEY=your_anon_key_here
   ```

### å¼€å‘æ¨¡å¼

```bash
npm run dev
```

åº”ç”¨ä¼šåœ¨ `http://localhost:5173` å¯åŠ¨

### ç”Ÿäº§æ„å»º

```bash
npm run build
```

æ„å»ºè¾“å‡ºä¼šç”Ÿæˆåœ¨ `dist` ç›®å½•

### é¢„è§ˆç”Ÿäº§æ„å»º

```bash
npm run preview
```

## é¡¹ç›®ç»“æ„

```
.
â”œâ”€â”€ App.tsx                 # ä¸»åº”ç”¨ç»„ä»¶
â”œâ”€â”€ index.html             # HTML æ¨¡æ¿
â”œâ”€â”€ index.tsx              # React å…¥å£
â”œâ”€â”€ index.css              # å…¨å±€æ ·å¼
â”œâ”€â”€ vite.config.ts         # Vite é…ç½®
â”œâ”€â”€ tsconfig.json          # TypeScript é…ç½®
â”œâ”€â”€ constants.ts           # å¸¸é‡å®šä¹‰
â”œâ”€â”€ types.ts               # TypeScript ç±»å‹å®šä¹‰
â”œâ”€â”€ services/              # æœåŠ¡å±‚
â”‚   â”œâ”€â”€ supabaseClient.ts  # Supabase åˆå§‹åŒ–
â”‚   â”œâ”€â”€ api.ts             # API æ¥å£
â”‚   â”œâ”€â”€ auth.ts            # è®¤è¯ç›¸å…³
â”‚   â””â”€â”€ userOrders.ts      # è®¢å•ç®¡ç†
â”œâ”€â”€ components/            # React ç»„ä»¶
â””â”€â”€ public/                # é™æ€èµ„æºï¼ˆå¦‚æœ‰ï¼‰
```

## ä¸»è¦åŠŸèƒ½

### 1. ç”¨æˆ·è®¤è¯
- Supabase Auth é›†æˆ
- ç™»å½•/æ³¨å†Œ/ç™»å‡º
- ç”¨æˆ·ä¼šè¯ç®¡ç†

### 2. äº§å“å±•ç¤º
- äº§å“åˆ—è¡¨å±•ç¤º
- äº§å“è¯¦æƒ…é¡µ
- äº§å“æœç´¢å’Œç­›é€‰
- äº§å“ä»‹ç»å†…å®¹ï¼ˆäº§å“ç‰¹ç‚¹ã€ä½¿ç”¨æ–¹æ³•ã€æ ¸å¿ƒæˆåˆ†ï¼‰

### 3. è´­ç‰©è½¦å’Œè®¢å•
- è´­ç‰©è½¦ç®¡ç†
- è®¢å•åˆ›å»º
- è®¢å•å€’è®¡æ—¶ï¼ˆ30åˆ†é’Ÿæ”¯ä»˜æœŸé™ï¼‰
- æˆ‘çš„è®¢å•åˆ—è¡¨
- è®¢å•è¯¦æƒ…æŸ¥çœ‹

### 4. ç§¯åˆ†ç³»ç»Ÿ
- æ¶ˆè´¹ç§¯åˆ†èµ é€ï¼ˆä»…åœ¨æ”¯ä»˜å®Œæˆåï¼‰
- ç§¯åˆ†ä½™é¢æ˜¾ç¤º
- ç§¯åˆ†å…‘æ¢ï¼ˆå¦‚æœ‰é…ç½®ï¼‰

### 5. æº¯æºå·¥è‰ºè§†é¢‘
- å·¥è‰ºæµç¨‹è§†é¢‘å±•ç¤º
- è§†é¢‘ç®¡ç†å’Œæ›´æ–°

### 6. è”ç³»æˆ‘ä»¬
- å®˜æ–¹è”ç³»ç”µè¯
- é‚®ç®±è”ç³»
- åœ°å€ä¿¡æ¯
- æ”¯ä»˜æ–¹å¼è¯´æ˜

## å…³é”®ä»£ç ä½ç½®

### å€’è®¡æ—¶è®¡ç®— (App.tsx:1118-1124)
è®¢å•å€’è®¡æ—¶åŸºäº `created_at` å­—æ®µ + 30åˆ†é’Ÿè®¡ç®—ï¼Œæ¯ç§’è‡ªåŠ¨æ›´æ–°ã€‚

### ç§¯åˆ†ç³»ç»Ÿ (App.tsx:611)
```typescript
if (earn > 0 && createdOrder.payment_status === 'paid') {
  await updatePointsRemote(earn, 'order_earn', createdOrder.order_code, 'æ¶ˆè´¹èµ é€');
}
```
ä»…åœ¨è®¢å•æ”¯ä»˜å®Œæˆåæ‰ä¼šèµ é€ç§¯åˆ†ã€‚

### ç½‘ç«™åŸŸåå¤åˆ¶ (App.tsx:215-225)
é¡µè„š"å…³æ³¨æˆ‘ä»¬"ä¸­çš„åˆ†äº«æŒ‰é’®å¯è‡ªåŠ¨å¤åˆ¶ç½‘ç«™åŸŸååˆ°å‰ªè´´æ¿ã€‚

## éƒ¨ç½²æŒ‡å—

### Vercel éƒ¨ç½²ï¼ˆæ¨èï¼‰

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ Vercel ä¸­è¿æ¥ä½ çš„ GitHub ä»“åº“
3. è®¾ç½®ç¯å¢ƒå˜é‡ï¼š
   - `VITE_SUPABASE_URL`
   - `VITE_SUPABASE_ANON_KEY`
4. ç‚¹å‡»éƒ¨ç½²

### Netlify éƒ¨ç½²

1. å°†ä»£ç æ¨é€åˆ° GitHub
2. åœ¨ Netlify ä¸­è¿æ¥ä½ çš„ GitHub ä»“åº“
3. æ„å»ºå‘½ä»¤ï¼š`npm run build`
4. å‘å¸ƒç›®å½•ï¼š`dist`
5. è®¾ç½®ç¯å¢ƒå˜é‡
6. éƒ¨ç½²

### Docker éƒ¨ç½²

```dockerfile
FROM node:20-alpine

WORKDIR /app

COPY package*.json ./
RUN npm install

COPY . .

ENV VITE_SUPABASE_URL=your_url
ENV VITE_SUPABASE_ANON_KEY=your_key

RUN npm run build

EXPOSE 3000

CMD ["npm", "run", "preview"]
```

### æ‰‹åŠ¨éƒ¨ç½²ï¼ˆé™æ€ä¸»æœºï¼‰

1. è¿è¡Œ `npm run build` ç”Ÿæˆ `dist` æ–‡ä»¶å¤¹
2. ä¸Šä¼  `dist` æ–‡ä»¶å¤¹ä¸­çš„æ‰€æœ‰æ–‡ä»¶åˆ°ä½ çš„ Web æœåŠ¡å™¨
3. é…ç½®æœåŠ¡å™¨ä½¿ç”¨ Single Page Application (SPA) è·¯ç”±ï¼ˆæ‰€æœ‰è¯·æ±‚é‡å®šå‘åˆ° `index.html`ï¼‰

## ä¾èµ–è¯´æ˜

- **React 19**: UI æ¡†æ¶
- **Vite 7**: å¿«é€Ÿæ„å»ºå·¥å…·
- **TypeScript**: ç±»å‹å®‰å…¨
- **Tailwind CSS**: æ ·å¼æ¡†æ¶ï¼ˆåœ¨ HTML ä¸­å¼•å…¥ CDNï¼‰
- **@supabase/supabase-js**: æ•°æ®åº“å’Œè®¤è¯
- **lucide-react**: å›¾æ ‡åº“
- **react-quill-new**: å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼ˆå¯é€‰ï¼‰

## ç¯å¢ƒå˜é‡

| å˜é‡å | è¯´æ˜ | å¿…éœ€ |
|--------|------|------|
| `VITE_SUPABASE_URL` | Supabase é¡¹ç›® URL | âœ… |
| `VITE_SUPABASE_ANON_KEY` | Supabase åŒ¿å Key | âœ… |

## å¸¸è§é—®é¢˜

### Q: æœ¬åœ°å¼€å‘æ—¶å¦‚ä½•è¿æ¥åç«¯ API?
A: å‰ç«¯é€šè¿‡ Supabase ç›´æ¥è¿æ¥æ•°æ®åº“ã€‚å¦‚éœ€è°ƒç”¨åç«¯ REST APIï¼Œå¯åœ¨ `services/api.ts` ä¸­ä¿®æ”¹ API ç«¯ç‚¹ã€‚

### Q: å¦‚ä½•ä¿®æ”¹ç”µè¯å·ç ?
A: åœ¨ `App.tsx` ç¬¬ 1222-1223 è¡Œä¿®æ”¹è”ç³»æˆ‘ä»¬æ¿å—çš„ç”µè¯å·ç ã€‚

### Q: å€’è®¡æ—¶ä¸ºä»€ä¹ˆä¸æ˜¾ç¤ºï¼Ÿ
A: å€’è®¡æ—¶åŸºäºè®¢å•çš„ `created_at` å­—æ®µè‡ªåŠ¨è®¡ç®—ã€‚ç¡®ä¿è®¢å•çŠ¶æ€ä¸º `pending` ä¸” `payment_status` ä¸º `unpaid`ã€‚

### Q: å¦‚ä½•è‡ªå®šä¹‰é¢œè‰²ä¸»é¢˜ï¼Ÿ
A: ä¿®æ”¹ `index.html` ä¸­çš„ Tailwind é…ç½®ï¼Œæ›´æ”¹ `gj-gold`ã€`gj-dark` ç­‰è‡ªå®šä¹‰é¢œè‰²å€¼ã€‚

## æ”¯æŒ

å¦‚æœ‰é—®é¢˜æˆ–å»ºè®®ï¼Œè¯·è”ç³»ï¼š
- å®˜æ–¹å”®åç”µè¯ï¼š4008566001
- å®˜æ–¹æ‰‹æœºç”µè¯ï¼š19956618186
- é‚®ç®±ï¼šservice@guojing.com

## è®¸å¯è¯

Copyright Â© 2023 Guo Jing Group. All rights reserved.
